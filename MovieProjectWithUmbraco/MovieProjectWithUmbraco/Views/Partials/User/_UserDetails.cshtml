@using MovieProjectWithUmbraco.Models
@inherits UmbracoViewPage<DetailedUserInfo>

<div class="row">
    <div class="col-md-4">
        <div class="row">
            <div class="col-xs-12">
                <div class="panel panel-default profile-avatar-container">
                    <div class="panel-heading image-content">
                        <div class="middle-align">
                            <img src="@Model.BasicInfo.Avatar" class="img-responsive person-image center-image" />
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="panel panel-default profile-user-name">
                            <h4 class="text-center">@string.Format("{0} {1}", Model.BasicInfo.FirstName, Model.BasicInfo.LastName)</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-8">
        <div class="row">
            <div class="col-xs-12">
                <div class="panel panel-default">
                    <div class="panel-heading movie-proj-panel-heading">
                        <h4>General information</h4>
                    </div>
                    <table class="table table-responsive">
                        <tbody>
                            <tr>
                                <th class="col-md-4">Login</th>
                                <td>@Model.BasicInfo.UserName</td>
                            </tr>
                            <tr>
                                <th class="col-md-4">First name</th>
                                <td>@Model.BasicInfo.FirstName</td>
                            </tr>
                            <tr>
                                <th class="col-md-4">Last name</th>
                                <td>@Model.BasicInfo.LastName</td>
                            </tr>
                            <tr>
                                <th class="col-md-4">Hometown</th>
                                <td>@Model.BasicInfo.Hometown</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-xs-12">
                <div class="panel panel-default">
                    <div class="panel-heading movie-proj-panel-heading">
                        <h4>Contact information</h4>
                    </div>
                    <table class="table table-responsive">
                        <tbody>
                            <tr>
                                <th class="col-md-4">Phone number</th>
                                <td>@Model.ContactInfo.PhoneNumber</td>
                            </tr>
                            <tr>
                                <th class="col-md-4">Country</th>
                                <td>@Model.ContactInfo.Country</td>
                            </tr>
                            <tr>
                                <th class="col-md-4">City</th>
                                <td>@Model.ContactInfo.City</td>
                            </tr>
                            <tr>
                                <th class="col-md-4">Skype</th>
                                <td>@Model.ContactInfo.Skype</td>
                            </tr>
                            <tr>
                                <th class="col-md-4">Website</th>
                                <td><a href="@Model.ContactInfo.Website">@Model.ContactInfo.Website</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            @if (Model.FilmsInfo != null && Model.FilmsInfo.Count() > 0)
            {
                <div class="col-xs-12">
                    <div class="panel panel-default">
                        <div class="panel-heading movie-proj-panel-heading">
                            <h4>Rated movies</h4>
                        </div>
                        <table class="table table-responsive">
                            <tbody>
                                @foreach (var film in Model.FilmsInfo)
                                {
                                    <tr>
                                        <td class="vertical-align">
                                            <h4><a href="@film.Url">@film.Title</a></h4>
                                        </td>
                                        <td class="vertical-align total-rating text-right">
                                            <h3 class="movie-item-vertical-align">
                                                <span class="glyphicon glyphicon-star rating-item"></span>
                                                <span class="label label-default rating-item">
                                                    @string.Format("{0:0.0}", film.PersonalRating ?? 0)
                                                </span>
                                            </h3>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            }
            @if (Model.Comments != null && Model.Comments.Count() > 0)
            {
                <div class="col-xs-12">
                    <div class="panel panel-default">
                        <div class="panel-heading movie-proj-panel-heading">
                            <h4>Last comments</h4>
                        </div>
                        <div class="panel-body">
                            <div class="existing-feedbacks">
                                @foreach (var comment in Model.Comments)
                                {
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <div class="panel panel-default">
                                                <div class="panel-heading user-comment-heading">
                                                    <div class="panel panel-default">
                                                        <div class="panel-body text-center">
                                                            <a href="@comment.FilmPageUrl"><h4>@comment.FilmName</h4></a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel-body comment-content">
                                                    <p>@comment.Content</p>
                                                </div>
                                                <div class="panel-footer">
                                                    <div class="text-right">
                                                        <span>@comment.DateOfPublication.ToLongDateString()</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
